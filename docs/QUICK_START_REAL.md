# üöÄ –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö CUBE_RS (Gateway —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!)

## ‚úÖ **–°–ò–¢–£–ê–¶–ò–Ø:** Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç, –ö–£–ë-1063 –ø–æ–¥–∫–ª—é—á–µ–Ω!

---

## üéØ **–î–ê, –ú–û–ñ–ù–û –ó–ê–ü–£–°–ö–ê–¢–¨!**

–ï—Å–ª–∏ —É –≤–∞—Å Gateway —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ, —Ç–æ–≥–¥–∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤**
```bash
# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
python tools/start_all_services.py
```
–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–∑ `start_all_services.py`:
- Dashboard (Streamlit)  
- Web App (Flask)
- WebSocket Server
- Telegram Bot
- Tunnel Broker

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö**

#### –¢–µ—Ä–º–∏–Ω–∞–ª 1 (Gateway) - –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢ ‚úÖ
```bash
# –í–∞—à Gateway —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ö–£–ë-1063
```

#### –¢–µ—Ä–º–∏–Ω–∞–ª 2: Web Dashboard
```bash
cd CUBE_RS
python web_app/app.py
# –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:5000
```

#### –¢–µ—Ä–º–∏–Ω–∞–ª 3: Streamlit Dashboard  
```bash
cd CUBE_RS
python dashboard/app.py
# –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:8501
```

#### –¢–µ—Ä–º–∏–Ω–∞–ª 4: Telegram Bot
```bash
cd CUBE_RS
python telegram_bot/run_bot.py
```

#### –¢–µ—Ä–º–∏–Ω–∞–ª 5: WebSocket Server
```bash
cd CUBE_RS  
python publish/websocket_server.py
# –ó–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ ws://localhost:8765
```

---

## üîß **–ù–ê–°–¢–†–û–ô–ö–ê –ü–ï–†–ï–ú–ï–ù–ù–´–• –û–ö–†–£–ñ–ï–ù–ò–Ø**

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```bash
export SECRET_KEY="production-secret-key-change-me"
export API_KEY="your-gateway-api-key"
export API_SECRET="your-gateway-api-secret" 
export GATEWAY_URL="http://localhost:8000"
```

---

## üìã **–ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´ –°–ò–°–¢–ï–ú–´**

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl http://localhost:8000/api/health
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ CLI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:
```bash
python tools/admin_cli.py status
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
```bash
python tools/admin_cli.py create-user \
  --username admin \
  --email admin@company.com \
  --full-name "Administrator" \
  --password secure123 \
  --role "System Administrator" \
  --admin
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
- **Main Dashboard**: http://localhost:5000
- **Streamlit Dashboard**: http://localhost:8501  
- **WebSocket**: ws://localhost:8765

---

## üéØ **–ü–û–õ–ù–´–ô WORKFLOW –£–ü–†–ê–í–õ–ï–ù–ò–Ø –£–°–¢–†–û–ô–°–¢–í–ê–ú–ò:**

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á –¥–ª—è –Ω–æ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
```bash
python tools/admin_cli.py create-device-key \
  --expires 24 \
  --tags farm production \
  --created-by admin
```

### –®–∞–≥ 2: –ù–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–ª—é—á –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

### –®–∞–≥ 3: –û–¥–æ–±—Ä—è–µ—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
```bash
python tools/admin_cli.py list-pending
python tools/admin_cli.py approve-registration --request-id <ID>
```

### –®–∞–≥ 4: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø! ‚úÖ

---

## üîç **TROUBLESHOOTING**

### –ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç:
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
sudo lsof -i :5000

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
sudo lsof -ti:5000 | xargs kill -9
```

### –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã
export SECRET_KEY="dev-secret-key"
export API_KEY="test-key"
export API_SECRET="test-secret"
```

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç–∏
export PYTHONPATH=$PYTHONPATH:$(pwd)
```

---

## üéâ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:**

### ‚úÖ **–î–ê! –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ó–ê–ü–£–°–ö–£!**

–ï—Å–ª–∏ Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ö–£–ë-1063 –ø–æ–¥–∫–ª—é—á–µ–Ω, —Ç–æ:

1. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã** —á–µ—Ä–µ–∑ `start_all_services.py`
2. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —á–µ—Ä–µ–∑ CLI
3. **–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏** —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. **–í—Å–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç!**

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏! üöÄ**